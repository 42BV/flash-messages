<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <link rel="stylesheet" type="text/css" href="/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>@42.nl/react-flash-messages by </title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>@42.nl/react-flash-messages</h1>
          <h2>Storing flash messages via a nice api for use with React.</h2>
        </header>
        <section id="downloads" class="clearfix">
          
	  
          <a href="" id="view-on-github" class="button"><span>View on GitHub</span></a>
	    
        </section> 
        <hr>
        <section id="main_content">
          <h1 id="about">About</h1>

<p><a href="https://travis-ci.org/42BV/react-flash-messages"><img src="https://travis-ci.org/42BV/react-flash-messages.svg?branch=master" alt="Build Status" /></a>
<a href="https://codecov.io/gh/42BV/react-flash-messages"><img src="https://codecov.io/gh/42BV/react-flash-messages/branch/master/graph/badge.svg" alt="Codecov" /></a></p>

<p>This library makes it easy to create flash messages and to store them in a store.</p>

<p>What makes this project a little different from most flash message libraries is that it is UI agnostic. This library does not render the FlashMessages for you it only stores them!</p>

<h1 id="installation">Installation</h1>

<p><code class="highlighter-rouge">npm install @42.nl/react-flash-messages --save</code></p>

<h1 id="getting-started">Getting started.</h1>

<p>Optionally you can enable the <code class="highlighter-rouge">FlashMessagesProvider</code> in your application:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">'react'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">render</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'react-dom'</span><span class="p">;</span>

<span class="kr">import</span> <span class="p">{</span>
  <span class="nx">FlashMessagesProvider</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">'@42.nl/react-flash-messages'</span><span class="p">;</span>

<span class="kr">import</span> <span class="nx">App</span> <span class="nx">from</span> <span class="s1">'./App'</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">rootElement</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'root'</span><span class="p">);</span>

<span class="c1">// Register the FlashMessagesProvider, not required when never </span>
<span class="c1">// using the `FlashMessagesContext`.</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">rootElement</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">FlashMessagesProvider</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">App</span><span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/FlashMessagesProvider&gt;</span><span class="err">,
</span>    <span class="nx">rootElement</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<h2 id="displaying-messages-via-useflashmessage">Displaying messages via useFlashMessage</h2>

<p>Next we need to render the flash messages from the store.</p>

<p>The appearance of the flash messages is entirely up to you, but here is a small example:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">'react'</span><span class="p">;</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">useFlashMessages</span><span class="p">,</span> <span class="nx">removeFlashMessage</span><span class="p">,</span> <span class="nx">FlashMessage</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'@42.nl/react-flash-messages'</span><span class="p">;</span>

<span class="kr">import</span> <span class="s1">'./FlashMessage.css'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">FlashMessage</span><span class="p">()</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">flashMessages</span> <span class="o">=</span> <span class="nx">useFlashMessages</span><span class="p">();</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="nx">flashMessages</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">flashMessage</span> <span class="o">=&gt;</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">div</span>
          <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">flashMessage</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span>
          <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="err">`</span><span class="nx">flash</span><span class="o">-</span><span class="nx">message</span> <span class="nx">$</span><span class="p">{</span><span class="nx">flashMessage</span><span class="p">.</span><span class="nx">type</span><span class="p">}</span><span class="err">`</span><span class="p">}</span>
          <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="p">{</span>

            <span class="c1">// Make sure you call the onClick action otherwise callbacks will not work.</span>
            <span class="nx">flashMessage</span><span class="p">.</span><span class="nx">onClick</span><span class="p">();</span>

            <span class="c1">// This implementation deletes the flash message when it is clicked.</span>
            <span class="nx">removeFlashMessage</span><span class="p">(</span><span class="nx">flashMessage</span><span class="p">);</span>
          <span class="p">}}</span>
        <span class="o">&gt;</span>
          <span class="p">{</span><span class="nx">flashMessage</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>      <span class="p">))}</span>
    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Where the contents of ‘FlashMessage.css’ is:</p>

<div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="nc">.flash-message</span> <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">50px</span><span class="p">;</span>
  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">z-index</span><span class="p">:</span> <span class="m">9000</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="no">black</span> <span class="nb">solid</span> <span class="m">2px</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">12.5px</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<h2 id="displaying-messages-via-flashmessagesprovider">Displaying messages via FlashMessagesProvider</h2>

<p>Alternatively you can use the <code class="highlighter-rouge">FlashMessagesProvider</code> instead, when
you really want to use plain old Components.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'react'</span><span class="p">;</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">FlashMessagesContext</span><span class="p">,</span> <span class="nx">removeFlashMessage</span><span class="p">,</span> <span class="nx">FlashMessage</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'@42.nl/react-flash-messages'</span><span class="p">;</span>

<span class="kr">import</span> <span class="s1">'./FlashMessage.css'</span><span class="p">;</span>

<span class="kr">class</span> <span class="nx">FlashMessage</span> <span class="kr">extends</span> <span class="nx">Component</span><span class="p">()</span> <span class="p">{</span>

  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
     <span class="o">&lt;</span><span class="nx">FlashMessagesContext</span><span class="p">.</span><span class="nx">Consumer</span><span class="o">&gt;</span>
      <span class="p">{(</span><span class="na">flashMessages</span><span class="p">:</span> <span class="nx">FlashMessage</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="p">[])</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">renderFlashMessages</span><span class="p">(</span><span class="nx">flashMessages</span><span class="p">);</span>
      <span class="p">}}</span>
    <span class="o">&lt;</span><span class="sr">/FlashMessagesContext.Consumer</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">renderFlashMessages</span><span class="p">(</span><span class="na">flashMessages</span><span class="p">:</span> <span class="nx">FlashMessages</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="p">[])</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">flashMessages</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">flashMessage</span> <span class="o">=&gt;</span> <span class="p">(</span>
          <span class="o">&lt;</span><span class="nx">div</span>
            <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">flashMessage</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span>
            <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="err">`</span><span class="nx">flash</span><span class="o">-</span><span class="nx">message</span> <span class="nx">$</span><span class="p">{</span><span class="nx">flashMessage</span><span class="p">.</span><span class="nx">type</span><span class="p">}</span><span class="err">`</span><span class="p">}</span>
            <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="p">{</span>
              <span class="c1">// Make sure you call the onClick action otherwise callbacks will not work.</span>
              <span class="nx">flashMessage</span><span class="p">.</span><span class="nx">onClick</span><span class="p">();</span>

              <span class="c1">// This implementation deletes the flash message when it is clicked.</span>
              <span class="nx">removeFlashMessage</span><span class="p">(</span><span class="nx">flashMessage</span><span class="p">);</span>
            <span class="p">}}</span>
          <span class="o">&gt;</span>
            <span class="p">{</span><span class="nx">flashMessage</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span>
          <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="p">))}</span>
      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<h1 id="sending-flash-messages">Sending flash messages</h1>

<p>Now that we can see the flash messages we can use the following convenience methods to send flash messages:</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">addError</span><span class="p">,</span> <span class="nx">addWarning</span><span class="p">,</span> <span class="nx">addSuccess</span><span class="p">,</span> <span class="nx">addInfo</span><span class="p">,</span> <span class="nx">addApocalypse</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'@42.nl/react-flash-messages'</span><span class="p">;</span>

<span class="c1">// Renders a message for 10000 milliseconds</span>
<span class="nx">addError</span><span class="p">({</span> <span class="na">text</span><span class="p">:</span> <span class="s1">'Epic error'</span><span class="p">,</span> <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="na">age</span><span class="p">:</span> <span class="mi">12</span> <span class="p">},</span> <span class="na">onClick</span><span class="p">:</span> <span class="p">(</span><span class="nx">flashMessage</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'I was clicked'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">flashMessage</span><span class="p">);</span>
<span class="p">}});</span>

<span class="c1">// Renders a message for 7000 milliseconds</span>
<span class="nx">addWarning</span><span class="p">({</span> <span class="na">text</span><span class="p">:</span> <span class="s1">'Epic warning'</span><span class="p">,</span> <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="na">tree</span><span class="p">:</span> <span class="s1">'house'</span> <span class="p">},</span> <span class="na">onClick</span><span class="p">:</span> <span class="p">(</span><span class="nx">flashMessage</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'I was clicked'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">flashMessage</span><span class="p">);</span>
<span class="p">}});</span>

<span class="c1">// Renders a message for 2000 milliseconds</span>
<span class="nx">addSuccess</span><span class="p">({</span> <span class="na">text</span><span class="p">:</span> <span class="s1">'Epic success'</span><span class="p">,</span> <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="na">win</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="na">onClick</span><span class="p">:</span> <span class="p">(</span><span class="nx">flashMessage</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'I was clicked'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">flashMessage</span><span class="p">);</span>
<span class="p">}});</span>

<span class="c1">// Renders a message for 5000 milliseconds</span>
<span class="nx">addInfo</span><span class="p">({</span> <span class="na">text</span><span class="p">:</span> <span class="s1">'Epic info'</span><span class="p">,</span> <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="na">yo</span><span class="p">:</span> <span class="s1">'man'</span> <span class="p">},</span> <span class="na">onClick</span><span class="p">:</span> <span class="p">(</span><span class="nx">flashMessage</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'I was clicked'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">flashMessage</span><span class="p">);</span>
<span class="p">}});</span>

<span class="c1">// Renders a message which is not automatically removed</span>
<span class="nx">addApocalypse</span><span class="p">({</span> <span class="na">text</span><span class="p">:</span> <span class="s1">'TOTAL ANNIHILATION'</span><span class="p">,</span> <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="na">fail</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="na">onClick</span><span class="p">:</span> <span class="p">(</span><span class="nx">flashMessage</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'I was clicked'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">flashMessage</span><span class="p">);</span>
<span class="p">}});</span>
</code></pre>
</div>

<p>The <code class="highlighter-rouge">onClick</code> and the <code class="highlighter-rouge">data</code> keys are optional. The <code class="highlighter-rouge">data</code>
key can be used to send whatever <code class="highlighter-rouge">data</code> you want to the
component which renders the flash message.</p>

<h1 id="creating-a-custom-flash-message-type">Creating a custom flash message type.</h1>

<p>If the default types are not enough you can always create your own flash message creator:</p>

<p>You do this by calling <code class="highlighter-rouge">addFlashMessage</code> manually.</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">addFlashMessage</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'@42.nl/react-flash-messages'</span><span class="p">;</span>

<span class="kr">export</span> <span class="kd">function</span> <span class="nx">addNotice</span><span class="p">({</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">onClick</span><span class="p">,</span> <span class="nx">data</span> <span class="p">}</span><span class="err">:</span> <span class="nx">FlashMessageCreatorConfig</span><span class="o">&lt;</span><span class="nx">Data</span><span class="o">&gt;</span><span class="p">)</span><span class="err">:</span> <span class="nx">FlashMessage</span><span class="o">&lt;</span><span class="nx">Data</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">addFlashMessage</span><span class="p">(</span><span class="na">type</span><span class="p">:</span> <span class="s1">'NOTICE'</span><span class="p">,</span> <span class="na">duration</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">onClick</span><span class="p">,</span> <span class="nx">data</span><span class="p">});</span>
<span class="p">}</span>
</code></pre>
</div>

        </section>

        <footer>
        
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

      </div>
    </div>

    
  </body>
</html>
